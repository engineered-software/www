import{s as K,m as v,a as p,b as H,p as E,t as Q,q as W}from"../chunks/stores.DKxIF6QZ.js";import{aD as X,aE as Y,aF as aa,X as ea,B as S,l as ta,Z as na,A as sa,m as ra,U as oa,aG as la,p as N,aH as M,aI as g,aJ as j,f as b,a as B,t as ia,J as t,aK as y,Q as P,K as _,aL as ca,aM as ga}from"../chunks/entry.BljBaqk8.js";import{e as ua,i as fa,s as D,L as ha,a as ma,b as da,c as G,d as _a}from"../chunks/index.BNWocBHa.js";import{n as q,p as T,s as I,i as pa}from"../chunks/i18n.DyO8pKYX.js";import{p as A,i as J}from"../chunks/props.CQ4vbXPG.js";import{i as $}from"../chunks/lifecycle.CjDJMjkn.js";function La(s,a,u){S&&ta();var r=s,e=oa,l,i=X()?Y:aa;ea(()=>{i(e,e=a())&&(l&&na(l),l=sa(()=>u(r)))}),S&&(r=ra)}const va=la;function ba(s,a){return s.protocol!==a.protocol?a.href:a.password||a.username?"//"+[a.username,a.password].filter(Boolean).join(":")+"@"+a.host+a.pathname+a.search+a.hash:s.host!==a.host?"//"+a.host+a.pathname+a.search+a.hash:a.pathname+a.search+a.hash}function ya(s,a,u){const r=new URL(u??"/",a).pathname;return s.origin!==a.origin||!s.pathname.startsWith(r)}var Pa=Q('<link rel="alternate">');function ka(s,a){N(a,!1);const u=K(),r=()=>H(E,"$page",u),e=y(),l=y(),i=y(),k=q(M,new URL(r().url))||"/";let n=A(a,"availableLanguageTags",8),f=A(a,"strategy",8),x=A(a,"currentLang",8);const R=(c,o)=>{const d=[];for(const U of n()){const w=o.getLocalisedPath(c,U),L=I(w,k,void 0),h=new URL(L,new URL(r().url)).href;d.push(h)}return d};g(()=>r(),()=>{P(e,T(r().url.pathname,k)[0])}),g(()=>(_(f()),t(e),_(x())),()=>{P(l,f().getCanonicalPath(t(e),x()))}),g(()=>(t(l),_(f())),()=>{P(i,R(t(l),f()))}),j(),$();var C=v(),m=b(C);J(m,()=>n().length>=1,c=>{var o=v(),d=b(o);ua(d,1,()=>t(i),fa,(U,w,L)=>{var h=Pa();ia(()=>{D(h,"hreflang",n()[L]),D(h,"href",t(w))}),p(U,h)}),p(c,o)}),p(s,C),B()}const Ua=(s,a)=>`${ha}=${s};Path=${a};SameSite=lax;Max-Age=31557600`;function wa(s,a){N(a,!1);const u=K(),r=()=>H(E,"$page",u),e=y(),l=y(),i=q(M,new URL(r().url))||"/";let k=A(a,"languageTag",24,()=>{}),n=A(a,"i18n",8),f=y(0);function x(m,c){try{const o=new URL(ca(E).url),[d,U]=T(o.pathname,i),w=n().strategy.getCanonicalPath(d,t(e)),L=new URL(o);L.pathname=I(w,i,U);const h=new URL(m,new URL(L));if(ya(h,o,i)||n().config.exclude(h.pathname))return m;const z=c??t(e),[F,V]=T(h.pathname,i),Z=n().strategy.getLocalisedPath(F,z),O=new URL(h);return O.pathname=I(Z,i,V),ba(o,O)}catch{return m}}ma({translateHref:x}),g(()=>(_(k()),_(n()),r()),()=>{P(e,k()??n().getLanguageFromUrl(r().url))}),g(()=>(_(n()),t(e)),()=>{n().config.runtime.setLanguageTag(t(e))}),g(()=>t(e),()=>{document.documentElement.lang=t(e)}),g(()=>(_(n()),t(e)),()=>{document.documentElement.dir=n().config.textDirection[t(e)]??"ltr"}),g(()=>(t(e),t(f)),()=>{t(e)&&P(f,t(f)+1)}),g(()=>(t(e),t(f),G),()=>{t(e)&&(t(f)>1||va)&&ga(G)}),g(()=>t(e),()=>{P(l,t(e))}),g(()=>t(e),()=>{document.cookie=Ua(t(e),i)}),j(),$();var R=v();W(m=>{var c=v(),o=b(c);J(o,()=>n().config.seo.noAlternateLinks!==!0&&!n().config.exclude(r().url.pathname),d=>{ka(d,{get availableLanguageTags(){return n().config.runtime.availableLanguageTags},get strategy(){return n().strategy},get currentLang(){return t(e)}})}),p(m,c)});var C=b(R);La(C,()=>t(l),m=>{var c=v(),o=b(c);da(o,a,"default",{}),p(m,c)}),p(s,R),B()}const Aa=!0,Na=Object.freeze(Object.defineProperty({__proto__:null,prerender:Aa},Symbol.toStringTag,{value:"Module"}));function Ba(s,a){N(a,!0),wa(s,{i18n:pa,children:(u,r)=>{var e=v(),l=b(e);_a(l,()=>a.children),p(u,e)},$$slots:{default:!0}}),B()}export{Ba as component,Na as universal};
